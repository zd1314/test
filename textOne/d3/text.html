<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
		<script src='./d3.min.js'></script>
		<script>
		    let dataset=[0,1,2,3,4,5,6,7,8,9,10]
		    let color=['red','blue','pink','yellow','lightBlue','lightGreen','aqua','#333','orange','#f611e9']
		    function arc(r,R,start,end){
		    	let arc=d3.arc()
		    		.innerRadius(r)
		    		.outerRadius(R)
		    		.startAngle(start)
		    		.endAngle(end)
		    	return arc()
		    }
			let svg=d3.select('body').append('svg')
				.attr('width',500)
				.attr('height',500)
				.attr('transform','translate(250,250)')
			let g=svg.append('g')
			.attr('transform','translate(250,250)')
			let path=g.selectAll('path').data(dataset).enter().append('path')
			.attr('d',function(d,i){
				return arc(80,90,Math.PI/6*i,Math.PI/6*(i+1))
			})	
			.attr('fill',function(d,i){
				return color[i]
			})
			
			//文字路径
			let defs=g.append('defs')
			defs.selectAll('path').data(dataset).enter().append('path')	
				.attr('d',function(d,i){
				return arc(90,110,Math.PI/6*i,Math.PI/6*(i+1))
				})
				.attr('id','circle')
			//文字
			let text=g.selectAll('text').data(dataset).enter().append('text')
				
				.attr('dy',function(d){
					return arc(90,110,Math.sin(30),Math.cos(69))
				})
				.attr('dx',function(d){
					return d
				})
			    .style('fill', 'steelblue')
			    .style('font-size', '24px')
				let textPath=text.append('textPath').attr(
					'xlink:href', '#circle'
				)
				.text(function(d){
					return d
				})


		</script>
</body>
</html>